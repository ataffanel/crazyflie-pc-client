#!/usr/bin/env python

from __future__ import absolute_import


def init_paths():
	"""Make the app work in the source tree."""
	import sys
	import os.path as _path

	prefix = _path.normpath(_path.join(_path.realpath(sys.path[0]), '..'))
	src_lib = _path.join(prefix, 'lib')
	share_lib = prefix
	for location in sys.path + [src_lib, share_lib]:
		print location
		main_ui = _path.join(location, 'cfclient', 'ui','main.ui')
		if _path.exists(main_ui):
			print location
			sys.path = [location]+sys.path
			break


if __name__ == '__main__':
	init_paths()
	import sys
	print sys.path
	import cfclient
	cfclient.main()
